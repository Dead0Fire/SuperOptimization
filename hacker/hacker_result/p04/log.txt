gcc -std=c++11 -O0 -c fxn.cc
g++ -std=c++11 -O3 main.cc fxn.o
stoke extract -i ./a.out -o bins
FXN_FILE=$(ls bins | grep -E '\.s$' | grep -v main | head -n1); \
	test -n "$FXN_FILE" || { echo "‚ùå No extracted function found in bins/"; exit 1; }; \
	stoke testcase --target bins/$FXN_FILE --max_testcases 1024 -o test.tc
WARNING: No live out values provided, assuming { %rax %rdx %rbx %rsp %rbp %r12 %r13 %r14 %r15 %xmm0 %xmm1 }
WARNING: No def in values provided; assuming { %rdx %rbx %rsp %rbp %edi %r12 %r13 %r14 %r15 %xmm0 %xmm1 %mxcsr::rc[0] }
time stoke search --config synth.conf 
WARNING: Some cpu flags are not available on this hardware and will be removed:
WARNING: { abm }
Running search (timeout is 1000000 iterations):

Progress Update: 

Lowest Cost Discovered (68)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %rsi                 movq %rsp, %rbp                   
clc                             movl %edi, -0x14(%rbp)            
andnl %eax, %edi, %r10d         movl -0x14(%rbp), %eax            
lfence                          subl $0x1, %eax                   
movzbq %dil, %rcx               movl %eax, -0x4(%rbp)             
setc %ah                        movl -0x14(%rbp), %eax            
cqto                            xorl -0x4(%rbp), %eax             
cmovlq %rdi, %rsi               popq %rbp                         
subq $0xfffffffc, %rax          retq                              
lfence                                                            
pause                                                             
emms                                                              
xchgb %dl, %dh                                                    
movw %di, %dx                                                     
andb $0x4, %dh                                                    
sfence                                                            
cltq                                                              
rolq $0xfc, %rcx                                                  
adcb %al, %dh                                                     
andw $0x6, %si                                                    
pause                                                             
xorb %dl, %ah                                                     
cqto                                                              
xchgl %eax, %edx                                                  
cmovgel %edi, %r8d                                                
clc                                                               
mulw %di                                                          
cltq                                                              
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (53)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %rsi                 movq %rsp, %rbp                   
clc                             movl %edi, -0x14(%rbp)            
movw %di, %dx                   movl -0x14(%rbp), %eax            
mfence                          subl $0x1, %eax                   
movzbq %sil, %rcx               movl %eax, -0x4(%rbp)             
setc %ah                        movl -0x14(%rbp), %eax            
cqto                            xorl -0x4(%rbp), %eax             
cmovbl %edx, %edx               popq %rbp                         
subq $0xfffffffc, %rax          retq                              
cbtw                                                              
andb $0x4, %dh                                                    
emms                                                              
sbbb $0x3, %al                                                    
andnl %eax, %edi, %r10d                                           
andw $0x6, %si                                                    
cltd                                                              
pause                                                             
cltq                                                              
lfence                                                            
subb %al, %dh                                                     
rolq $0xfc, %rcx                                                  
pause                                                             
sbbb %dl, %ah                                                     
cqto                                                              
cmovlq %rdi, %rsi                                                 
cmovgel %edi, %esi                                                
cbtw                                                              
mulw %r10w                                                        
btcl $0x4, %edx                                                   
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (37)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %rsi                 movq %rsp, %rbp                   
clc                             movl %edi, -0x14(%rbp)            
movw %di, %dx                   movl -0x14(%rbp), %eax            
mfence                          subl $0x1, %eax                   
movzbq %sil, %rcx               movl %eax, -0x4(%rbp)             
setc %ah                        movl -0x14(%rbp), %eax            
cqto                            xorl -0x4(%rbp), %eax             
cmovbl %edx, %edx               popq %rbp                         
subq $0xfffffffc, %rax          retq                              
salw %cl, %di                                                     
andb $0x4, %dh                                                    
emms                                                              
sbbb $0x3, %al                                                    
andnl %eax, %edi, %r10d                                           
andw $0x6, %si                                                    
cltd                                                              
pause                                                             
cltq                                                              
lfence                                                            
subb %al, %dh                                                     
rolq $0xfc, %rcx                                                  
pause                                                             
sbbb %dl, %ah                                                     
cqto                                                              
cmovlq %rdi, %rsi                                                 
cmovgel %edi, %esi                                                
cbtw                                                              
mulw %r10w                                                        
btcl $0x4, %edx                                                   
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (35)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %rsi                 movq %rsp, %rbp                   
clc                             movl %edi, -0x14(%rbp)            
movw %di, %dx                   movl -0x14(%rbp), %eax            
movzwl %ax, %edx                subl $0x1, %eax                   
movsbq %sil, %rcx               movl %eax, -0x4(%rbp)             
setc %ch                        movl -0x14(%rbp), %eax            
testq %rdi, %rsi                xorl -0x4(%rbp), %eax             
cmovbl %edx, %edx               popq %rbp                         
subq $0xfffffffc, %rax          retq                              
salw %cl, %di                                                     
andb $0x4, %dh                                                    
emms                                                              
sbbb $0x3, %al                                                    
andnl %eax, %edi, %r10d                                           
adcw $0x6, %si                                                    
cltd                                                              
cbtw                                                              
cltq                                                              
tzcntl %edi, %esi                                                 
subb %al, %dh                                                     
orq $0xfffffffc, %rcx                                             
pause                                                             
sbbb %dl, %ah                                                     
cqto                                                              
cqto                                                              
lfence                                                            
cbtw                                                              
mulw %r10w                                                        
btcl $0x4, %edx                                                   
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (30)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %rsi                 movq %rsp, %rbp                   
cqto                            movl %edi, -0x14(%rbp)            
movw %ax, %dx                   movl -0x14(%rbp), %eax            
movzwl %ax, %edx                subl $0x1, %eax                   
movsbq %sil, %rcx               movl %eax, -0x4(%rbp)             
setpe %ah                       movl -0x14(%rbp), %eax            
testq %rdi, %rsi                xorl -0x4(%rbp), %eax             
cmovnpl %edx, %edx              popq %rbp                         
subq $0xfffffffc, %rax          retq                              
salw %cl, %di                                                     
andb $0x4, %dh                                                    
emms                                                              
cltq                                                              
andnl %eax, %edi, %r10d                                           
btcl $0x4, %edx                                                   
cltd                                                              
sbbb $0x3, %al                                                    
cbtw                                                              
blsrl %eax, %r9d                                                  
xorb %al, %dh                                                     
movl $0x7, %edi                                                   
cmc                                                               
sbbb %dl, %ah                                                     
stc                                                               
clc                                                               
cbtw                                                              
lfence                                                            
testb %al, %al                                                    
adcw $0x6, %si                                                    
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (22)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %rsi                 movq %rsp, %rbp                   
cqto                            movl %edi, -0x14(%rbp)            
cmovnpw %ax, %dx                movl -0x14(%rbp), %eax            
movzwl %ax, %edx                subl $0x1, %eax                   
movzbq %dil, %rcx               movl %eax, -0x4(%rbp)             
setpe %ch                       movl -0x14(%rbp), %eax            
testq %rdi, %rsi                xorl -0x4(%rbp), %eax             
pdepl %ecx, %esi, %edi          popq %rbp                         
salw %cl, %di                   retq                              
subq $0xfffffffc, %rax                                            
addb %sil, %cl                                                    
emms                                                              
cltd                                                              
andnl %eax, %edi, %r10d                                           
lfence                                                            
setnge %cl                                                        
seta %r11b                                                        
cbtw                                                              
subb $0x3, %al                                                    
xorb %al, %ah                                                     
blsrl %eax, %r9d                                                  
cmc                                                               
orb %dl, %ah                                                      
orl $0x0, %eax                                                    
decw %cx                                                          
cbtw                                                              
movl $0x7, %edi                                                   
testb %al, %al                                                    
movw $0x6, %r9w                                                   
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (21)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %rsi                 movq %rsp, %rbp                   
movzbq %al, %rcx                movl %edi, -0x14(%rbp)            
setnbe %r9b                     movl -0x14(%rbp), %eax            
shrxl %eax, %edi, %r10d         subl $0x1, %eax                   
movswl %cx, %ecx                movl %eax, -0x4(%rbp)             
setnbe %dh                      movl -0x14(%rbp), %eax            
sfence                          xorl -0x4(%rbp), %eax             
cmovlel %ecx, %eax              popq %rbp                         
movswq %di, %rdx                retq                              
setl %ah                                                          
testb $0xc0, %al                                                  
mfence                                                            
cmovgw %ax, %r9w                                                  
subl %edi, %edi                                                   
subq $0xfffffffc, %rax                                            
cbtw                                                              
rolq $0xfd, %r10                                                  
subb $0x3, %al                                                    
pextl %r10d, %r10d, %r8d                                          
rcrw $0x1, %r10w                                                  
seta %dh                                                          
cmovnow %cx, %dx                                                  
cmovgeq %rcx, %rsi                                                
bextrl %edi, %esi, %edi                                           
decw %cx                                                          
xchgb %r10b, %dl                                                  
notb %ch                                                          
addl $0x7, %edi                                                   
cmpq $0x6, %r10                                                   
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (20)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %rsi                 movq %rsp, %rbp                   
movzbq %al, %rcx                movl %edi, -0x14(%rbp)            
mfence                          movl -0x14(%rbp), %eax            
shrxl %eax, %edi, %r10d         subl $0x1, %eax                   
movswl %cx, %ecx                movl %eax, -0x4(%rbp)             
subq $0xfffffffc, %rax          movl -0x14(%rbp), %eax            
cltq                            xorl -0x4(%rbp), %eax             
cmovlel %ecx, %eax              popq %rbp                         
movswq %di, %rdx                retq                              
setl %ah                                                          
popcntl %edi, %esi                                                
setnbe %r9b                                                       
seta %dh                                                          
subl %ecx, %edx                                                   
setnbe %dh                                                        
leaq -0x40(,%r10,4), %r9                                          
cmovnow %cx, %dx                                                  
subb $0x3, %al                                                    
pextl %r10d, %r10d, %r8d                                          
rcrw $0x1, %r10w                                                  
cmovgw %ax, %r9w                                                  
rolq $0xfd, %r10                                                  
bextrl %edi, %esi, %edi                                           
decw %cx                                                          
xchgb %r10b, %dl                                                  
notb %ch                                                          
addl $0x7, %edi                                                   
cmpq $0x6, %r10                                                   
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (19)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %r11                 movq %rsp, %rbp                   
movzbq %al, %rcx                movl %edi, -0x14(%rbp)            
shrxl %eax, %edi, %r10d         movl -0x14(%rbp), %eax            
cmovlel %ecx, %eax              subl $0x1, %eax                   
subq $0xfffffffc, %rax          movl %eax, -0x4(%rbp)             
subb $0x3, %al                  movl -0x14(%rbp), %eax            
movswq %di, %rdx                xorl -0x4(%rbp), %eax             
pextl %r10d, %r10d, %r8d        popq %rbp                         
leaq -0x40(,%r10,4), %rdx       retq                              
setz %r9b                                                         
setl %dh                                                          
mfence                                                            
movb %dh, %ah                                                     
popcntl %edi, %esi                                                
cmovnow %cx, %dx                                                  
xorq $0x80, %r11                                                  
sets %dh                                                          
cmovngq %rsi, %r11                                                
cmovgw %dx, %r9w                                                  
rolq $0xfd, %r10                                                  
crc32w %cx, %ecx                                                  
decw %cx                                                          
bextrl %edi, %esi, %edi                                           
xchgb %r10b, %dl                                                  
negb %ch                                                          
addl $0x7, %edi                                                   
cmpq $0x4, %rax                                                   
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (16)     Lowest Known Correct Cost (0)     
                                                                  
._Z3p04i:                       ._Z3p04i:                         
xorq %rax, %rax                 pushq %rbp                        
movq %rdi, %r11                 movq %rsp, %rbp                   
movzbq %al, %rcx                movl %edi, -0x14(%rbp)            
xorl $0xffffff80, %eax          movl -0x14(%rbp), %eax            
shrxl %r11d, %r11d, %r10d       subl $0x1, %eax                   
andl %ecx, %eax                 movl %eax, -0x4(%rbp)             
decw %cx                        movl -0x14(%rbp), %eax            
subq $0xfffffffc, %rax          xorl -0x4(%rbp), %eax             
cmovnzw %r11w, %dx              popq %rbp                         
cbtw                            retq                              
cmovnzw %di, %si                                                  
setp %dl                                                          
movzwl %di, %edx                                                  
setno %ch                                                         
testl $0x10, %eax                                                 
popcntl %edx, %esi                                                
cmpb %r11b, %dl                                                   
rcrb $0x20, %ch                                                   
sall $0x1, %esi                                                   
blsmskl %edx, %r10d                                               
shlxl %edx, %ecx, %r8d                                            
shlb $0x4, %ah                                                    
btcl $0xfb, %r11d                                                 
cwtd                                                              
sarb $0x0, %sil                                                   
crc32b %al, %r8d                                                  
rcrq %cl, %rcx                                                    
leaq -0x40(,%r10,4), %rdx                                         
cmovnzl %edx, %r8d                                                
sbbb $0x3, %al                                                    
retq                                                              

********************************************************************************

Progress Update: 

Lowest Cost Discovered (1)        Lowest Known Correct Cost (0)     
                                                                    
._Z3p04i:                         ._Z3p04i:                         
xorq %rax, %rax                   pushq %rbp                        
testb $0x1, %ah                   movq %rsp, %rbp                   
movq $0xfffffffffffffffe, %r9     movl %edi, -0x14(%rbp)            
orb %ah, %ah                      movl -0x14(%rbp), %eax            
movl %edi, %eax                   subl $0x1, %eax                   
sbbq $0x2, %rax                   movl %eax, -0x4(%rbp)             
sete %ch                          movl -0x14(%rbp), %eax            
andb $0x3, %al                    xorl -0x4(%rbp), %eax             
cqto                              popq %rbp                         
blsmskl %edi, %r9d                retq                              
movw %dx, %ax                                                       
movsbq %r9b, %r8                                                    
xchgw %di, %r8w                                                     
xorq $0x4, %rax                                                     
setnp %dil                                                          
pdepq %r8, %rdi, %rsi                                               
rolb $0x80, %ch                                                     
orb %ah, %ah                                                        
cmovzw %r9w, %si                                                    
cmpxchgl %edx, %esi                                                 
sbbq %rdx, %rsi                                                     
cmovngel %edi, %esi                                                 
movw %dx, %r11w                                                     
adcb %ch, %dh                                                       
cmpw $0xfff9, %r11w                                                 
movl $0x40, %ecx                                                    
subl %ecx, %esi                                                     
xchgb %dl, %dh                                                      
xchgl %eax, %eax                                                    
rclb $0x8, %cl                                                      
retq                                                                

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (0)        Lowest Known Correct Cost (0)     
                                                                    
._Z3p04i:                         ._Z3p04i:                         
xorq %rax, %rax                   xorq %rax, %rax                   
cqto                              cqto                              
cmovzl %edi, %r9d                 cmovzl %edi, %r9d                 
cmpxchgb %ah, %ah                 cmpxchgb %ah, %ah                 
cmovnsw %dx, %ax                  cmovnsw %dx, %ax                  
seta %sil                         seta %sil                         
orq $0x2, %rax                    orq $0x2, %rax                    
blsil %edi, %eax                  blsil %edi, %eax                  
movq $0xfffffffffffffffe, %r9     movq $0xfffffffffffffffe, %r9     
blsmskl %eax, %r9d                blsmskl %eax, %r9d                
subl %r9d, %edi                   subl %r9d, %edi                   
movsbq %dl, %r8                   movsbq %dl, %r8                   
rolb $0x1, %dl                    rolb $0x1, %dl                    
subq $0x4, %rax                   subq $0x4, %rax                   
setg %cl                          setg %cl                          
pdepq %rdx, %rdi, %rsi            pdepq %rdx, %rdi, %rsi            
testw %r8w, %r8w                  testw %r8w, %r8w                  
xorb %ch, %ch                     xorb %ch, %ch                     
cmovzw %r9w, %si                  cmovzw %r9w, %si                  
cmpxchgl %r9d, %esi               cmpxchgl %r9d, %esi               
cmovpol %edi, %r11d               cmovpol %edi, %r11d               
adcw $0xfff9, %cx                 adcw $0xfff9, %cx                 
movw %dx, %r8w                    movw %dx, %r8w                    
xorb %ch, %ch                     xorb %ch, %ch                     
movw $0x7, %dx                    movw $0x7, %dx                    
movl $0x40, %ecx                  movl $0x40, %ecx                  
testl %eax, %edx                  testl %eax, %edx                  
sbbq %rdx, %rsi                   sbbq %rdx, %rsi                   
rolb $0x1, %dh                    rolb $0x1, %dh                    
andb $0x8, %cl                    andb $0x8, %cl                    
retq                              retq                              

********************************************************************************

################################################################################

Final update:

Total search iterations:       4837
Number of attempted searches:  1
Total search time:             0.220554s
Total time:                    0.476246s

Statistics of last search

Iterations:                    4837
Elapsed Time:                  0.220407s
Iterations/s:                  21945.8

Starting cost:                 69
Lowest cost:                   0
Lowest correct cost:           0

Move Type       Proposed     Succeeded     Accepted     
                                                        
Add Nops        0%           0%            0%           
Delete          0%           0%            0%           
Instruction     25.2016%     12.0116%      5.41658%     
Opcode          24.6227%     20.3225%      15.9396%     
OpcodeWidth     0%           0%            0%           
Operand         26.1732%     19.3302%      15.5468%     
Local Swap      24.0025%     11.2053%      7.98015%     
Global Swap     0%           0%            0%           
Rotate          0%           0%            0%           
                                                        
Total           100%         62.8695%      44.8832%     

Lowest Cost Discovered (0)        Lowest Known Correct Cost (0)     
                                                                    
._Z3p04i:                         ._Z3p04i:                         
xorq %rax, %rax                   xorq %rax, %rax                   
cqto                              cqto                              
cmovzl %edi, %r9d                 cmpxchgb %ah, %ah                 
cmpxchgb %ah, %ah                 cmovnsw %dx, %ax                  
cmovnsw %dx, %ax                  orq $0x2, %rax                    
seta %sil                         blsil %edi, %eax                  
orq $0x2, %rax                    movq $0xfffffffffffffffe, %r9     
blsil %edi, %eax                  blsmskl %eax, %r9d                
movq $0xfffffffffffffffe, %r9     subl %r9d, %edi                   
blsmskl %eax, %r9d                rolb $0x1, %dl                    
subl %r9d, %edi                   subq $0x4, %rax                   
movsbq %dl, %r8                   pdepq %rdx, %rdi, %rsi            
rolb $0x1, %dl                    xorb %ch, %ch                     
subq $0x4, %rax                   cmovzw %r9w, %si                  
setg %cl                          cmpxchgl %r9d, %esi               
pdepq %rdx, %rdi, %rsi            retq                              
testw %r8w, %r8w                                                    
xorb %ch, %ch                                                       
cmovzw %r9w, %si                                                    
cmpxchgl %r9d, %esi                                                 
cmovpol %edi, %r11d                                                 
adcw $0xfff9, %cx                                                   
movw %dx, %r8w                                                      
xorb %ch, %ch                                                       
movw $0x7, %dx                                                      
movl $0x40, %ecx                                                    
testl %eax, %edx                                                    
sbbq %rdx, %rsi                                                     
rolb $0x1, %dh                                                      
andb $0x8, %cl                                                      
retq                                                                

################################################################################

Search terminated successfully with a verified rewrite!
0.43user 0.08system 0:00.52elapsed 100%CPU (0avgtext+0avgdata 97500maxresident)k
0inputs+72outputs (0major+21173minor)pagefaults 0swaps
time stoke search --config opt.conf
WARNING: Some cpu flags are not available on this hardware and will be removed:
WARNING: { abm }
Running search (timeout is 1000000 iterations):

No action on new best correct
Progress Update: 

Lowest Cost Discovered (35)       Lowest Known Correct Cost (35)     
                                                                     
._Z3p04i:                         ._Z3p04i:                          
xorq %rax, %rax                   xorq %rax, %rax                    
cqto                              cqto                               
cmpxchgb %ah, %ah                 cmpxchgb %ah, %ah                  
cmovnsw %dx, %ax                  cmovnsw %dx, %ax                   
orq $0x2, %rax                    orq $0x2, %rax                     
blsil %edi, %eax                  blsil %edi, %eax                   
movq $0xfffffffffffffffe, %r9     movq $0xfffffffffffffffe, %r9      
blsmskl %eax, %r9d                blsmskl %eax, %r9d                 
subl %r9d, %edi                   subq $0x4, %rax                    
rolb $0x1, %dl                    rolb $0x1, %dl                     
subq $0x4, %rax                   subl %r9d, %edi                    
pdepq %rdx, %rdi, %rsi            pdepq %rdx, %rdi, %rsi             
xorb %ch, %ch                     xorb %ch, %ch                      
cmovzw %r9w, %si                  cmovzw %r9w, %si                   
cmpxchgl %r9d, %esi               cmpxchgl %r9d, %esi                
retq                              retq                               

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (27)       Lowest Known Correct Cost (27)     
                                                                     
._Z3p04i:                         ._Z3p04i:                          
xorq %rax, %rax                   xorq %rax, %rax                    
xchgb %ah, %ah                    xchgb %ah, %ah                     
cqto                              cqto                               
cmovnsw %dx, %ax                  cmovnsw %dx, %ax                   
orq $0x2, %rax                    orq $0x2, %rax                     
blsil %edi, %eax                  blsil %edi, %eax                   
movq $0xfffffffffffffffe, %r9     movq $0xfffffffffffffffe, %r9      
blsmskl %eax, %r9d                blsmskl %eax, %r9d                 
cmovbel %r9d, %edi                cmovbel %r9d, %edi                 
addq $0x4, %rax                   addq $0x4, %rax                    
pdepq %rdx, %rdi, %rsi            pdepq %rdx, %rdi, %rsi             
xorb %ch, %ch                     xorb %ch, %ch                      
shrb $0x1, %dl                    shrb $0x1, %dl                     
cmovzw %r9w, %si                  cmovzw %r9w, %si                   
cmpxchgl %r9d, %esi               cmpxchgl %r9d, %esi                
retq                              retq                               

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (25)     Lowest Known Correct Cost (25)     
                                                                   
._Z3p04i:                       ._Z3p04i:                          
xorq %rax, %rax                 xorq %rax, %rax                    
movq $0x20, %r9                 movq $0x20, %r9                    
shrl $0x1, %r9d                 shrl $0x1, %r9d                    
cmovnol %edi, %eax              cmovnol %edi, %eax                 
xorb %ch, %ch                   xorb %ch, %ch                      
seta %r8b                       seta %r8b                          
cwtd                            cwtd                               
adcl %eax, %r9d                 adcl %eax, %r9d                    
negw %di                        negw %di                           
blsmskl %eax, %r9d              blsmskl %eax, %r9d                 
rorb $0x1, %dl                  rorb $0x1, %dl                     
addb %dh, %ch                   addb %dh, %ch                      
cmpxchgl %r9d, %r9d             cmpxchgl %r9d, %r9d                
incb %dh                        incb %dh                           
movb %ah, %dh                   movb %ah, %dh                      
retq                            retq                               

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (15)     Lowest Known Correct Cost (15)     
                                                                   
._Z3p04i:                       ._Z3p04i:                          
xorq %rax, %rax                 xorq %rax, %rax                    
movb %ah, %ch                   movb %ah, %ch                      
subb %ah, %ch                   subb %ah, %ch                      
cwtd                            cwtd                               
orl $0x0, %edi                  orl $0x0, %edi                     
setno %dh                       setno %dh                          
rorb $0x1, %dl                  rorb $0x1, %dl                     
movq $0x3, %r9                  movq $0x3, %r9                     
movsbw %r9b, %si                movsbw %r9b, %si                   
cmovol %r9d, %r8d               cmovol %r9d, %r8d                  
negw %ax                        negw %ax                           
sarb $0xf9, %r9b                sarb $0xf9, %r9b                   
blsmskl %edi, %r9d              blsmskl %edi, %r9d                 
cmovgel %eax, %edi              cmovgel %eax, %edi                 
xchgl %r9d, %eax                xchgl %r9d, %eax                   
retq                            retq                               

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (14)     Lowest Known Correct Cost (14)     
                                                                   
._Z3p04i:                       ._Z3p04i:                          
xorq %rax, %rax                 xorq %rax, %rax                    
leal 0x40(,%edi,2), %r9d        leal 0x40(,%edi,2), %r9d           
movl $0x80, %r8d                movl $0x80, %r8d                   
movzbq %dil, %rdx               movzbq %dil, %rdx                  
decw %r9w                       decw %r9w                          
movl $0xffffff80, %r11d         movl $0xffffff80, %r11d            
movl %edx, %ecx                 movl %edx, %ecx                    
addb %dh, %cl                   addb %dh, %cl                      
rolw $0xfa, %r8w                rolw $0xfa, %r8w                   
setae %cl                       setae %cl                          
blsmskl %edi, %eax              blsmskl %edi, %eax                 
xaddb %cl, %r9b                 xaddb %cl, %r9b                    
andb %al, %r11b                 andb %al, %r11b                    
cmovoq %r11, %r10               cmovoq %r11, %r10                  
retq                            retq                               

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (13)     Lowest Known Correct Cost (13)     
                                                                   
._Z3p04i:                       ._Z3p04i:                          
movl $0x2, %edx                 movl $0x2, %edx                    
shrxl %edx, %edi, %ecx          shrxl %edx, %edi, %ecx             
subl $0x7, %edx                 subl $0x7, %edx                    
btsl $0x0, %ecx                 btsl $0x0, %ecx                    
xorq %rax, %rax                 xorq %rax, %rax                    
movzbl %ah, %esi                movzbl %ah, %esi                   
xorb $0xfd, %ah                 xorb $0xfd, %ah                    
xorb $0x4, %sil                 xorb $0x4, %sil                    
cmovnew %si, %r11w              cmovnew %si, %r11w                 
blsmskl %edi, %eax              blsmskl %edi, %eax                 
movl $0x6, %r11d                movl $0x6, %r11d                   
blsil %edx, %esi                blsil %edx, %esi                   
btsl %edx, %edi                 btsl %edx, %edi                    
retq                            retq                               

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (12)     Lowest Known Correct Cost (12)     
                                                                   
._Z3p04i:                       ._Z3p04i:                          
movzbl %dil, %r8d               movzbl %dil, %r8d                  
bsrl %edi, %ecx                 bsrl %edi, %ecx                    
popcntl %r8d, %r9d              popcntl %r8d, %r9d                 
bzhil %r8d, %r9d, %eax          bzhil %r8d, %r9d, %eax             
setnz %r10b                     setnz %r10b                        
adcb %r8b, %r9b                 adcb %r8b, %r9b                    
cqto                            cqto                               
addw %r8w, %r8w                 addw %r8w, %r8w                    
leaw 0x6(%rdx,%r9,1), %r10w     leaw 0x6(%rdx,%r9,1), %r10w        
blsmskl %edi, %eax              blsmskl %edi, %eax                 
setg %dh                        setg %dh                           
movzwl %ax, %eax                movzwl %ax, %eax                   
retq                            retq                               

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (11)     Lowest Known Correct Cost (11)     
                                                                   
._Z3p04i:                       ._Z3p04i:                          
movb $0x2, %cl                  movb $0x2, %cl                     
popcntl %edi, %r11d             popcntl %edi, %r11d                
movslq %r11d, %rcx              movslq %r11d, %rcx                 
shlxl %r11d, %r11d, %eax        shlxl %r11d, %r11d, %eax           
addb %ah, %cl                   addb %ah, %cl                      
leal 0x4(%rdi,%rdi,4), %edx     leal 0x4(%rdi,%rdi,4), %edx        
blsmskl %edi, %eax              blsmskl %edi, %eax                 
xorl %edx, %ecx                 xorl %edx, %ecx                    
movzwl %di, %edx                movzwl %di, %edx                   
movb %dl, %ch                   movb %dl, %ch                      
cmpb $0x10, %r11b               cmpb $0x10, %r11b                  
retq                            retq                               

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (10)     Lowest Known Correct Cost (10)     
                                                                   
._Z3p04i:                       ._Z3p04i:                          
popcntl %edi, %r11d             popcntl %edi, %r11d                
movzwl %r11w, %eax              movzwl %r11w, %eax                 
cmpl $0x8, %edi                 cmpl $0x8, %edi                    
sarl $0x40, %r11d               sarl $0x40, %r11d                  
blsmskl %edi, %eax              blsmskl %edi, %eax                 
cmovzl %edi, %ecx               cmovzl %edi, %ecx                  
rorxq $0x1, %r11, %rsi          rorxq $0x1, %r11, %rsi             
cmovncl %esi, %r8d              cmovncl %esi, %r8d                 
movzwl %r11w, %edx              movzwl %r11w, %edx                 
setna %dh                       setna %dh                          
retq                            retq                               

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (9)     Lowest Known Correct Cost (9)     
                                                                 
._Z3p04i:                      ._Z3p04i:                         
movswl %di, %eax               movswl %di, %eax                  
blsmskl %edi, %eax             blsmskl %edi, %eax                
popcntw %di, %r9w              popcntw %di, %r9w                 
seta %dh                       seta %dh                          
setnle %dh                     setnle %dh                        
rorw $0x1, %di                 rorw $0x1, %di                    
setb %r9b                      setb %r9b                         
cmovngw %di, %si               cmovngw %di, %si                  
adcl $0x3, %edi                adcl $0x3, %edi                   
retq                           retq                              

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (8)     Lowest Known Correct Cost (8)     
                                                                 
._Z3p04i:                      ._Z3p04i:                         
movl %edi, %eax                movl %edi, %eax                   
movl %eax, %edx                movl %eax, %edx                   
andnl %edx, %eax, %r11d        andnl %edx, %eax, %r11d           
xchgw %di, %dx                 xchgw %di, %dx                    
cmpb $0xf0, %dil               cmpb $0xf0, %dil                  
blsmskl %edx, %eax             blsmskl %edx, %eax                
subl %eax, %edi                subl %eax, %edi                   
cmovnaew %r11w, %cx            cmovnaew %r11w, %cx               
retq                           retq                              

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (7)     Lowest Known Correct Cost (7)     
                                                                 
._Z3p04i:                      ._Z3p04i:                         
movl %edi, %eax                movl %edi, %eax                   
movswq %ax, %r8                movswq %ax, %r8                   
movb %al, %ch                  movb %al, %ch                     
xorl $0x2, %eax                xorl $0x2, %eax                   
cmovnpw %di, %dx               cmovnpw %di, %dx                  
blsmskl %r8d, %eax             blsmskl %r8d, %eax                
shrxl %edi, %edi, %ecx         shrxl %edi, %edi, %ecx            
retq                           retq                              

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (6)     Lowest Known Correct Cost (6)     
                                                                 
._Z3p04i:                      ._Z3p04i:                         
blsrl %edi, %eax               blsrl %edi, %eax                  
movb $0xfc, %ch                movb $0xfc, %ch                   
btrl $0xfc, %eax               btrl $0xfc, %eax                  
blsmskl %edi, %eax             blsmskl %edi, %eax                
cmovncl %edi, %esi             cmovncl %edi, %esi                
sbbl $0x4, %edi                sbbl $0x4, %edi                   
retq                           retq                              

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (5)     Lowest Known Correct Cost (5)     
                                                                 
._Z3p04i:                      ._Z3p04i:                         
movzwl %di, %r11d              movzwl %di, %r11d                 
popcntl %edi, %eax             popcntl %edi, %eax                
orb $0x5, %dil                 orb $0x5, %dil                    
movl %eax, %r10d               movl %eax, %r10d                  
blsmskl %r11d, %eax            blsmskl %r11d, %eax               
retq                           retq                              

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (4)        Lowest Known Correct Cost (4)     
                                                                    
._Z3p04i:                         ._Z3p04i:                         
imull $0xfffffffb, %edi, %eax     imull $0xfffffffb, %edi, %eax     
pextl %eax, %eax, %r9d            pextl %eax, %eax, %r9d            
orl $0xfffffff8, %eax             orl $0xfffffff8, %eax             
blsmskl %edi, %eax                blsmskl %edi, %eax                
retq                              retq                              

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (3)        Lowest Known Correct Cost (3)     
                                                                    
._Z3p04i:                         ._Z3p04i:                         
imull $0xfffffffe, %edi, %eax     imull $0xfffffffe, %edi, %eax     
negb %dil                         negb %dil                         
blsmskl %edi, %eax                blsmskl %edi, %eax                
retq                              retq                              

********************************************************************************

No action on new best correct
Progress Update: 

Lowest Cost Discovered (2)     Lowest Known Correct Cost (2)     
                                                                 
._Z3p04i:                      ._Z3p04i:                         
rorxq $0xfa, %rdi, %rax        rorxq $0xfa, %rdi, %rax           
blsmskl %edi, %eax             blsmskl %edi, %eax                
retq                           retq                              

********************************************************************************

Statistics Update: 

Iterations:                    1000000
Elapsed Time:                  24.9126s
Iterations/s:                  40140.3

Starting cost:                 35
Lowest cost:                   2
Lowest correct cost:           2

Move Type       Proposed     Succeeded     Accepted     
                                                        
Add Nops        0%           0%            0%           
Delete          0%           0%            0%           
Instruction     16.7196%     6.2252%       0.243%       
Opcode          16.6545%     12.8118%      2.0975%      
OpcodeWidth     0%           0%            0%           
Operand         16.6833%     2.6982%       2.1079%      
Local Swap      16.6094%     10.4316%      10.2485%     
Global Swap     16.687%      11.8449%      11.6398%     
Rotate          16.6462%     12.5668%      12.4357%     
                                                        
Total           100%         56.5785%      38.7724%     

********************************************************************************

################################################################################

Final update:

Total search iterations:       1000000
Number of attempted searches:  1
Total search time:             24.9129s
Total time:                    25.184s

Statistics of last search

Iterations:                    1000000
Elapsed Time:                  24.9128s
Iterations/s:                  40140.1

Starting cost:                 35
Lowest cost:                   2
Lowest correct cost:           2

Move Type       Proposed     Succeeded     Accepted     
                                                        
Add Nops        0%           0%            0%           
Delete          0%           0%            0%           
Instruction     16.7196%     6.2252%       0.243%       
Opcode          16.6545%     12.8118%      2.0975%      
OpcodeWidth     0%           0%            0%           
Operand         16.6833%     2.6982%       2.1079%      
Local Swap      16.6094%     10.4316%      10.2485%     
Global Swap     16.687%      11.8449%      11.6398%     
Rotate          16.6462%     12.5668%      12.4357%     
                                                        
Total           100%         56.5785%      38.7724%     

Lowest Cost Discovered (2)     Lowest Known Correct Cost (2)     
                                                                 
._Z3p04i:                      ._Z3p04i:                         
rorxq $0xfa, %rdi, %rax        rorxq $0xfa, %rdi, %rax           
blsmskl %edi, %eax             blsmskl %edi, %eax                
retq                           retq                              

################################################################################

Search terminated successfully with a verified rewrite!
22.18user 3.04system 0:25.22elapsed 99%CPU (0avgtext+0avgdata 97480maxresident)k
0inputs+48outputs (0major+21169minor)pagefaults 0swaps
time ./a.out 100000000
0.58user 0.00system 0:00.58elapsed 99%CPU (0avgtext+0avgdata 1080maxresident)k
0inputs+0outputs (0major+60minor)pagefaults 0swaps
g++ -std=c++11 -O3 -c fxn.cc
g++ -std=c++11 -O3 main.cc fxn.o
stoke replace --config replace.conf
